<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="index.css">
        <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
        <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
        <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
        <title>Jonathan Lin's Portfolio</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div id="root"></div>
        <script type="text/babel" src="index.js"></script>
        <script type="text/babel" src="main.js"></script>
        <!-- Inline script defining logVisit and calling it -->
        <script type="text/javascript">
            function logVisit() {
                console.log('Attempting to log visit...');
                fetch('https://grateful-fit-man.ngrok-free.app/api/logging/personal-website/', {
                    method: 'GET',
                    headers: {
                        'ngrok-skip-browser-warning': 'pass',
                    },
                })
                .then(response => {
                    if (response.ok) {
                        return response.text().then(text => {
                            console.log('Visit logged successfully. API message:', text);
                        });
                    } else {
                        console.error('Failed to log visit. Status:', response.status);
                    }
                })
                .catch(error => {
                    console.error('Error logging visit:', error);
                });
            }

            document.addEventListener('DOMContentLoaded', logVisit);
        </script>
    </body>
</html>
